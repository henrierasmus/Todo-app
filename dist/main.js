!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);let r=[{projectName:"project1",todos:[]},{projectName:"project2",todos:[]}];const n=document.querySelector("#container");var d=(()=>{const e=document.createElement("div"),t=document.createElement("form"),o=document.createElement("button"),d=document.createElement("button");function c(t){e.innerHTML="";const o=(e,t)=>{t.innerHTML+=e};for(let n=0;n<r.length;n++)if(n===t)for(let d=0;d<r[n].todos.length;d++){o(`<div class="todoCard" style=${1==r[t].todos[d].isComplete?"background-color:green":"background-color:grey"}><p class="todo-title">${r[t].todos[d].title}</p><p class="todo-desc">${r[t].todos[d].description}</p><p class="due-date">Due Date: ${r[t].todos[d].dueDate}</p><p class="prio">Priority: ${r[t].todos[d].priorityVal}</p><button class="delete-todo">Delete</button></div>`,e)}n.appendChild(e)}const i=()=>{n.innerHTML=""};return{_renderTodos:c,_renderAddTodo:function(){t.innerHTML='<form>\n                Title:<input type="text" name="title" id="title"><br>\n                Description:<input type="text" name="description" id="description"> <br>\n                Due Date:<input type="date" name="date" id="date"><br>\n                Priority:<br><input type="radio" class="priority" name="priority" value="high" checked> High<br>\n                        <input type="radio" class="priority" name="priority" value="medium"> Medium<br>\n                        <input type="radio" class="priority" name="priority" value="Low"> Low\n            </form>\n            <div id="submitBtn">\n                Submit Todo\n            </div>',n.appendChild(t)},todoCard:e,todoForm:t,displayProjectsPage:()=>{let e=document.createElement("div");r.forEach((function(t){((e,t)=>{t.innerHTML+=e})(`<div><p class="project-div">${t.projectName}</p><button class="delete-project">Delete Project</button></div>`,e)})),n.appendChild(e)},_renderAddProject:function(){const e=document.createElement("div");e.innerHTML='<form>\n            Title:<input type="text" name="project-name" id="project-name"><br>\n        </form>\n        <button id="submitP">Submit Project</button>',n.appendChild(e)},addProjectButton:()=>{o.textContent="Add a Project",n.appendChild(o)},addButton:o,resetDom:i,displayProject:e=>{i();const t=document.createElement("div"),o=document.createElement("h1");o.setAttribute("class","project-name-div"),o.textContent=`${r[e].projectName}`,n.appendChild(t),t.appendChild(o);for(let t=0;t<r.length;t++)if(t===e)for(let t=0;t<r[e].todos.length;t++)c(e)},goToProjects:()=>{d.textContent="Go to projects",n.appendChild(d),d.setAttribute("id","project-page-button")},addTodoBtn:()=>{const e=document.createElement("div");e.innerHTML='<button id="add-todo-form">Add todo</button>',n.appendChild(e)}}})();o.d(t,"todoFactory",(function(){return a}));document.querySelector("#container");let c,i=document.querySelector("#project-name"),l=document.querySelector(".project-name-div");const a=(e,t,o,r)=>{return{title:e,description:t,dueDate:o,priorityVal:r,isComplete:!1,notes:"",project:"default"}},u=()=>{document.addEventListener("click",e=>{e.target.matches("#submitBtn")&&((e=>{const t=document.querySelector("#title").value,o=document.querySelector("#description").value,n=document.querySelector("#date").value;l=document.querySelector(".project-name-div");const c=a(t,o,n,(()=>{let e;const t=document.querySelectorAll(".priority");for(let o=0;o<t.length;o++)if(t[o].checked){e=t[o].value;break}return e})());for(let e=0;e<r.length;e++)r[e].projectName===l.textContent&&(r[e].todos.push(c),d.resetDom(),d.displayProject(e),console.log(r))})(),p())})},s=()=>{d.resetDom(),d.displayProjectsPage(),d.addProjectButton(),d.addButton.addEventListener("click",()=>{m()}),document.addEventListener("click",e=>{if(e.target.matches(".project-div")){console.log("test",e.target.parentNode.firstChild.textContent),d.resetDom();for(let t=0;t<r.length;t++)r[t].projectName===e.target.textContent&&(d.resetDom(),d.displayProject(t),p())}}),[...document.querySelectorAll(".delete-project")].forEach(e=>{e.addEventListener("click",e=>{for(let t=0;t<r.length;t++)r[t].projectName===e.target.parentNode.firstChild.textContent&&(console.log(e.target.parentNode.firstChild.textContent),r.splice(t,1),s(),console.log(r))})})},p=()=>{d.addTodoBtn(),document.querySelector("#add-todo-form").addEventListener("click",()=>{d._renderAddTodo(),u()}),d.goToProjects(),document.querySelector("#project-page-button").addEventListener("click",s),f(),y()},m=()=>{d.resetDom(),d._renderAddProject(),document.querySelector("#submitP").addEventListener("click",()=>{(()=>{const e=document.querySelector("#project-name").value;c=(e=>{return{projectName:e,todos:[]}})(e),r.push(c)})(),(()=>{for(let e=0;e<r.length;e++)i=document.querySelector("#project-name"),r[e].projectName===i.value&&(d.resetDom(),d.displayProject(e),p())})()})};s();const f=()=>{const e=[...document.querySelectorAll(".delete-todo")],t=document.querySelector(".project-name-div");console.log("project Arr Delete todo",r),e.forEach(e=>{e.addEventListener("click",e=>{for(let o=0;o<r.length;o++)if(r[o].projectName===t.textContent)for(let t=0;t<r[o].todos.length;t++)r[o].todos[t].title===e.target.parentNode.firstChild.textContent&&(r[o].todos.splice(t,1),d.resetDom(),d.displayProject(o),p())})})},y=()=>{const e=[...document.querySelectorAll(".todoCard")],t=document.querySelector(".project-name-div");e.forEach(e=>{e.addEventListener("click",e=>{for(let o=0;o<r.length;o++)if(r[o].projectName===t.textContent)for(let t=0;t<r[o].todos.length;t++)r[o].todos[t].title==e.target.parentNode.firstChild.textContent&&(r[o].todos[t].isComplete=!r[o].todos[t].isComplete,d.resetDom(),d.displayProject(o),p())})})}}]);